<!doctype html>
<html class="no-js" lang="en-US">


<!-- Mirrored from htmldemo.net/jantrik/jantrik/wishlist.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Jul 2024 04:21:08 GMT -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Wishlist || Jantrik Bootstrap5 Template for Tools, Equipment Store</title>
    <meta name="description" content="Default Description">
    <meta name="keywords" content="E-commerce" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- place favicon.ico in the root directory -->
    <link rel="shortcut icon" type="image/x-icon" href="img/icon/favicon.png">
      <!-- Google Font css -->
      <link href="https://fonts.googleapis.com/css?family=Lily+Script+One" rel="stylesheet"> 
 
      <!-- mobile menu css -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/meanmenu.min.css') }}">
      <!-- animate css -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/animate.css') }}">
      <!-- nivo slider css -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/nivo-slider.css') }}">
      <!-- owl carousel css -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/owl.carousel.min.css') }}">
      <!-- slick css -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/slick.css') }}">
      <!-- price slider css -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/jquery-ui.min.css') }}">
      <!-- fontawesome css -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/font-awesome.min.css') }}">
      <!-- fancybox css -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/jquery.fancybox.css') }}">
      <!-- bootstrap css -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
      <!-- default css -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/default.css') }}">
      <!-- style css -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
      <!-- responsive css -->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/responsive.css') }}">
    
      <!-- modernizr js -->
      <script src="{{ url_for('static', filename='js/vendor/modernizr-2.8.3.min.js') }}"></script>
      <style>
          .user-account-dropdown {
              position: relative;
          }

          .user-account-dropdown .user-toggle {
              color: #2874f0;
              text-decoration: none;
              font-weight: 500;
              font-size: 16px;
              padding: 8px 12px;
              background-color: #fff;
              border-radius: 2px;
              display: flex;
              align-items: center;
              transition: all 0.3s ease;
          }

          .user-account-dropdown .user-toggle:hover {
              background-color: #f0f0f0;
          }

          .user-account-dropdown .user-toggle i {
              margin-right: 5px;
          }

          .user-account-dropdown .ht-dropdown.user-menu {
              position: absolute;
              top: 100%;
              right: 0;
              background-color: #fff;
              box-shadow: 0 2px 10px rgba(0,0,0,0.1);
              border-radius: 4px;
              display: none;
              z-index: 1000;
              min-width: 200px;
              padding: 5px 0;
          }

          .user-account-dropdown:hover .ht-dropdown.user-menu {
              display: block;
          }

          .user-account-dropdown .ht-dropdown.user-menu li {
              list-style: none;
          }

          .user-account-dropdown .ht-dropdown.user-menu a {
              display: block;
              padding: 10px 20px;
              color: #333;
              text-decoration: none;
              transition: all 0.2s ease;
          }

          .user-account-dropdown .ht-dropdown.user-menu a:hover {
              background-color: #f5f5f5;
          }
          
          .custom-popup {
              position: fixed;
              bottom: 20px;
              left: 50%;
              transform: translateX(-50%);
              background-color: #333;
              color: white;
              padding: 10px 20px;
              border-radius: 5px;
              z-index: 1000;
              display: none;
              animation: fadeInOut 3s ease-in-out;
          }
          
          .custom-popup.error {
              background-color: #dc3545;
              border-left: 4px solid #c82333;
          }
          
          @keyframes fadeInOut {
              0%, 100% { opacity: 0; }
              10%, 90% { opacity: 1; }
          }
          
          .cart-limit-note {
              font-size: 11px;
              color: #6c757d;
              font-style: italic;
          }
      </style>
      <style>
        // ... existing styles ...
        
        .toolhive-logo {
            text-decoration: none;
            display: block;
            padding: 10px 0;
        }
    
        .logo-text {
            font-size: 32px;
            font-weight: 700;
            color: #333;
            font-family: 'Lily Script One', cursive;
        }
    
        .logo-text .highlight {
            color: #ff6a00;
        }
    
        @media (max-width: 768px) {
            .logo-text {
                font-size: 24px;
            }
        }
    </style>
</head>

<body>
    <!--[if lt IE 8]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <!-- Wrapper Start -->
    <div class="wrapper">
        <!-- Header Area Start -->
        <header>
            <!-- Header Top Start -->
            
            <!-- Header Top End -->
            <!-- Header Bottom Start -->
            <div class="header-bottom header-sticky">
                <div class="container">
                    <div class="row justify-content-between">
                        <!--  logo Start-->
                        <div class="col-auto">
                            <div class="logo">
                                <a href="/index" class="toolhive-logo">
                                    <span class="logo-text">Tool<span class="highlight">Hive</span></span>
                                </a>
                            </div>                          
                        </div>
                       <!--  logo End -->

                        <!--  Desktop Memu Start -->
                        
                        <!--  Desktop Memu End -->
                        
                        <!--  Cartt Box  Start -->
                        <div class="col-auto">
                            <div class="cart-box text-end">
                                <ul>

                                    <!-- Your existing dropdown code -->
                                    <li class="user-account-dropdown">
                                        {% if user_name %}
                                            <a href="#" class="user-toggle">
                                                <i class="fa fa-user-circle"></i> Hello, {{ user_info.get('name', 'User') }} <i class="fa fa-angle-down"></i>
                                            </a>
                                            <ul class="ht-dropdown user-menu">
                                                <li><a href="/account"><i class="fa fa-user"></i> My Account</a></li>
                                                <li><a href="/wishlist"><i class="fa fa-heart"></i> Wishlist</a></li>
                                                <li class="divider"></li>
                                                <li><a href="/logout"><i class="fa fa-sign-out"></i> Logout</a></li>
                                            </ul>
                                        {% else %}
                                            <a href="/login" class="user-toggle">
                                                <i class="fa fa-user"></i> Login / Register <i class="fa fa-angle-down"></i>
                                            </a>
                                            <ul class="ht-dropdown user-menu">
                                                <li><a href="/login"><i class="fa fa-sign-in"></i> Login</a></li>
                                                <li><a href="/register"><i class="fa fa-user-plus"></i> Register</a></li>
                                            </ul>
                                        {% endif %}
                                    </li>                                    
                                    <li><a href="#" data-bs-toggle="modal" data-bs-target="#walletModal"><i class="fa fa-credit-card"></i></a></li>
                                    <li><a href="/wishlist"><i class="fa fa-heart-o"></i></a></li>
                                    <li>
                                        <a href="/cart">
                                            <i class="fa fa-shopping-basket"></i>
                                            <span class="cart-counter">{{ cart_count }}</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!--  Cartt Box  End-->
                       
                        <!-- Mobile Menu  End -->                        
                    </div>
                    <!-- Row End -->
                </div>
                <!-- Container End -->
            </div>
            <!-- Header Bottom End -->
        </header>
        <!-- Header Area End -->
        <!-- Breadcrumb Start -->
        <div class="breadcrumb-area pt-60 pb-55 pt-sm-30 pb-sm-25">
            <div class="container">
                <div class="breadcrumb">
                    <ul>
                        <li><a href="/index">Home</a></li>
                        <li class="active"><a href="/wishlist">Wishlist</a></li>
                    </ul>
                </div>
            </div>
            <!-- Container End -->
        </div>
        <!-- Breadcrumb End -->
        <!-- Wish List Start -->
        <div class="cart-main-area wish-list pb-60">
            <div class="container">
                <!-- Section Title Start -->
                <h2 class="text-capitalize sub-heading">Wishlist</h2>
                <!-- Section Title Start End -->
                <div class="row">
                    <div class="col-md-12">
                        <!-- Form Start -->
                        <form id="wishlist-form" action="#">
                            <!-- Table Content Start -->
                            <div class="table-content table-responsive">
                                <table>
                                    <thead>
                                        <tr>
                                            <th class="product-remove">Remove</th>
                                            <th class="product-thumbnail">Image</th>
                                            <th class="product-name">Product</th>
                                            <th class="product-price">Unit Price</th>
                                            <th class="product-stock-status">Stock Status</th>
                                            <th class="product-add-cart">Add to Cart</th>
                                        </tr>
                                    </thead>
                                    <tbody id="wishlist-items">
                                        <!-- Wishlist items will be dynamically added here -->
                                    </tbody>
                                </table>
                            </div>
                            <!-- Table Content Start -->
                        </form>
                        <!-- Form End -->
                    </div>
                </div>
                <!-- Row End -->
            </div>
        </div>
        <!-- Wish List End -->
        <!-- Brand Logo Start -->
        <div class="brand-area pb-60">
            <div class="container">
                <!-- Brand Banner Start -->
                <div class="brand-banner owl-carousel">
                    <div class="single-brand">
                        <a href="#"><img class="img" src="{{ url_for('static', filename='img/brand/1.png') }}" alt="brand-image"></a>
                    </div>
                    <div class="single-brand">
                        <a href="#"><img src="{{ url_for('static', filename='img/brand/2.png') }}" alt="brand-image"></a>
                    </div>
                    <div class="single-brand">
                        <a href="#"><img src="{{ url_for('static', filename='img/brand/3.png') }}" alt="brand-image"></a>
                    </div>
                    <div class="single-brand">
                        <a href="#"><img src="{{ url_for('static', filename='img/brand/4.png') }}" alt="brand-image"></a>
                    </div>
                    <div class="single-brand">
                        <a href="#"><img src="{{ url_for('static', filename='img/brand/5.png') }}" alt="brand-image"></a>
                    </div>
                    <div class="single-brand">
                        <a href="#"><img class="img" src="{{ url_for('static', filename='img/brand/1.png') }}" alt="brand-image"></a>
                    </div>
                    <div class="single-brand">
                        <a href="#"><img src="{{ url_for('static', filename='img/brand/2.png') }}" alt="brand-image"></a>
                    </div>
                    <div class="single-brand">
                        <a href="#"><img src="{{ url_for('static', filename='img/brand/3.png') }}" alt="brand-image"></a>
                    </div>
                    <div class="single-brand">
                        <a href="#"><img src="{{ url_for('static', filename='img/brand/4.png') }}" alt="brand-image"></a>
                    </div>
                    <div class="single-brand">
                        <a href="#"><img src="{{ url_for('static', filename='img/brand/5.png') }}" alt="brand-image"></a>
                    </div>
                </div>
                <!-- Brand Banner End -->                
            </div>
        </div>
        <!-- Brand Logo End -->

        <footer class="off-white-bg">
            <!-- Footer Top Start -->
            <div class="footer-top pt-50 pb-60">
                <div class="container">
                    
                    <div class="row">
                        <!-- Single Footer Start -->
                        <div class="col-lg-4  col-md-7 col-sm-6">
                            <div class="single-footer">
                                <h3>Contact us</h3>
                                <div class="footer-content">
                                    <div class="loc-address">
                                        <span><i class="fa fa-map-marker"></i>Your address goes here.</span>
                                        <span><i class="fa fa-envelope-o"></i>Mail Us: demo@example.com</span>
                                        <span><i class="fa fa-phone"></i>Phone: 0123456789</span>
                                    </div>
                                    <div class="payment-mth"><a href="#"><img class="img" src="img/footer/1.png" alt="payment-image"></a></div>
                                </div>
                            </div>
                        </div>
                        <!-- Single Footer Start -->
                        <!-- Single Footer Start -->
                        <div class="col-lg-2  col-md-5 col-sm-6 footer-full">
                            <div class="single-footer">
                                <h3 class="footer-title">Information</h3>
                                <div class="footer-content">
                                    <ul class="footer-list">
                                        <li><a href="#">Site Map</a></li>
                                        <li><a href="#">Specials</a></li>
                                        <li><a href="#">Jobs</a></li>
                                        <li><a href="#">Delivery Information</a></li>
                                        <li><a href="#">Order History</a></li>
                                        <li><a href="#">Privacy Policy</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- Single Footer Start -->
                        <!-- Single Footer Start -->
                        <div class="col-lg-2  col-md-4 col-md-4 col-sm-6 footer-full">
                            <div class="single-footer">
                                <h3 class="footer-title">My Account</h3>
                                <div class="footer-content">
                                    <ul class="footer-list">
                                        <li><a href="account.html">My account</a></li>
                                        <li><a href="#">Checkout</a></li>
                                        <li><a href="#">Login</a></li>
                                        <li><a href="#">address</a></li>
                                        <li><a href="#">Order status</a></li>
                                        <li><a href="#">Site Map</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- Single Footer Start -->
                        <!-- Single Footer Start -->
                        <div class="col-lg-2 col-md-4 col-sm-6 footer-full">
                            <div class="single-footer">
                                <h3 class="footer-title">customer service</h3>
                                <div class="footer-content">
                                    <ul class="footer-list">
                                        <li><a href="account.html">My account</a></li>
                                        <li><a href="#">New</a></li>
                                        <li><a href="#">Gift Cards</a></li>
                                        <li><a href="#">Return Policy</a></li>
                                        <li><a href="#">Your Orders</a></li>
                                        <li><a href="#">Subway</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- Single Footer Start -->
                        <!-- Single Footer Start -->
                        <div class="col-lg-2 col-md-4 col-sm-6 footer-full">
                            <div class="single-footer">
                                <h3 class="footer-title">Let Us Help You</h3>
                                <div class="footer-content">
                                    <ul class="footer-list">
                                        <li><a href="#">Your Account</a></li>
                                        <li><a href="#">Your Orders</a></li>
                                        <li><a href="#">Shipping</a></li>
                                        <li><a href="#">Amazon Prime</a></li>
                                        <li><a href="#">Replacements</a></li>
                                        <li><a href="#">Manage </a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- Single Footer Start -->
                    </div>
                    <!-- Row End -->
                </div>
                <!-- Container End -->
            </div>
            <!-- Footer Top End -->
            <!-- Footer Bottom Start -->
            <div class="footer-bottom off-white-bg2">
                <div class="container">
                    <div class="footer-bottom-content">
                        
                        <div class="footer-social-content">
                            <ul class="social-content-list">
                                <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                                <li><a href="#"><i class="fa fa-wifi"></i></a></li>
                                <li><a href="#"><i class="fa fa-google-plus"></i></a></li>
                                <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                                <li><a href="#"><i class="fa fa-youtube"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- Container End -->
            </div>
            <!-- Footer Bottom End -->
        </footer>
        <!-- Footer End -->
    </div>
    <!-- Wrapper End -->
    <!-- jquery 3.12.4 -->
<script src="{{ url_for('static', filename='js/vendor/jquery-1.12.4.min.js') }}"></script>
<!-- mobile menu js -->
<script src="{{ url_for('static', filename='js/jquery.meanmenu.min.js') }}"></script>
<!-- scroll-up js -->
<script src="{{ url_for('static', filename='js/jquery.scrollUp.js') }}"></script>
<!-- owl-carousel js -->
<script src="{{ url_for('static', filename='js/owl.carousel.min.js') }}"></script>
<!-- slick js -->
<script src="{{ url_for('static', filename='js/slick.min.js') }}"></script>
<!-- wow js -->
<script src="{{ url_for('static', filename='js/wow.min.js') }}"></script>
<!-- price slider js -->
<script src="{{ url_for('static', filename='js/jquery-ui.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/jquery.countdown.min.js') }}"></script>
<!-- nivo slider js -->
<script src="{{ url_for('static', filename='js/jquery.nivo.slider.js') }}"></script>
<!-- fancybox js -->
<script src="{{ url_for('static', filename='js/jquery.fancybox.min.js') }}"></script>
<!-- bootstrap -->
<script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
<!-- plugins -->
<script src="{{ url_for('static', filename='js/plugins.js') }}"></script>
<!-- main js -->
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
<!-- Cart utilities -->
<script src="{{ url_for('static', filename='js/cart-utils.js') }}"></script>

<script>
$(document).ready(function() {
    function loadWishlist() {
        $.ajax({
            url: '/get-wishlist-items',
            type: 'GET',
            success: function(response) {
                if (response.success) {
                    displayWishlistItems(response.wishlist_items);
                    // Add tooltip for cart limits after items are displayed
                    $('.add-cart').attr('title', 'Maximum 5 products in cart, 5 quantities per product');
                } else {
                    showPopup('Failed to load wishlist: ' + response.message);
                }
            },
            error: function(xhr, status, error) {
                console.error('Error loading wishlist:', error);
                showPopup('Error loading wishlist. Please try again.');
            }
        });
    }

    function displayWishlistItems(items) {
        var wishlistContainer = $('#wishlist-items');
        wishlistContainer.empty();

        if (items.length === 0) {
            wishlistContainer.append('<tr><td colspan="6">Your wishlist is empty.</td></tr>');
        } else {
            items.forEach(function(item) {
                var row = `
                    <tr>
                        <td class="product-remove">
                            <a href="#" class="remove-from-wishlist" data-product-id="${item.product_id}">
                                <i class="fa fa-times" aria-hidden="true"></i>
                            </a>
                        </td>
                        <td class="product-thumbnail">
                            <a href="/product/${item.product_id}">
                                <img src="${item.product_image}" alt="${item.product_name}" />
                            </a>
                        </td>
                        <td class="product-name">
                            <a href="/product/${item.product_id}">${item.product_name}</a>
                        </td>
                        <td class="product-price">
                            <span class="amount">₹${item.product_price.toFixed(2)}/Day</span>
                        </td>
                        <td class="product-stock-status">
                            <span>${item.stock_status}</span>
                        </td>
                        <td class="product-add-cart">
                            <a href="#" class="add-cart" data-product-id="${item.product_id}">Add to Cart</a>
                            <small class="d-block mt-1 text-muted cart-limit-note">Max 5 products in cart</small>
                        </td>
                    </tr>
                `;
                wishlistContainer.append(row);
            });
        }
    }

    $(document).on('click', '.remove-from-wishlist', function(e) {
        e.preventDefault();
        var productId = $(this).data('product-id');
        removeFromWishlist(productId);
    });

    $(document).on('click', '.add-cart', function(e) {
        e.preventDefault();
        e.stopPropagation(); // Stop event propagation to prevent multiple handlers
        
        // Check if this event has already been processed
        if (e.handled !== true) {
            e.handled = true;
            var productId = $(this).data('product-id');
            addToCartFromWishlist(productId);
        }
    });

    function removeFromWishlist(productId) {
        $.ajax({
            url: '/remove-from-wishlist',
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({ product_id: productId }),
            success: function(response) {
                if (response.success) {
                    loadWishlist();
                    showPopup('Item removed from wishlist');
                } else {
                    showPopup('Failed to remove item: ' + response.message);
                }
            },
            error: function(xhr, status, error) {
                console.error('Error removing item from wishlist:', error);
                showPopup('Error removing item. Please try again.');
            }
        });
    }

    function addToCartFromWishlist(productId) {
        // First check if we've already processed this request (debounce)
        if (window._lastCartRequest && 
            window._lastCartRequest.id === productId && 
            Date.now() - window._lastCartRequest.time < 1000) {
            console.log('Ignoring duplicate cart request');
            return;
        }
        
        // Set request tracking
        window._lastCartRequest = {
            id: productId,
            time: Date.now()
        };
        
        console.log('Adding to cart from wishlist:', productId);
        
        $.ajax({
            url: '/add-to-cart',
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({ product_id: productId }),
            success: function(response) {
                if (response.success) {
                    showPopup('Item added to cart');
                    removeFromWishlist(productId);
                    updateCartCount(response.cart_count);
                } else {
                    showPopup(response.message, true);
                }
            },
            error: function(xhr, status, error) {
                console.error('Error adding item to cart:', error);
                console.error('Status:', status);
                console.error('Response:', xhr.responseText);
                showPopup('Error adding item to cart. Please try again.');
            }
        });
    }

    function showPopup(message, isError = false) {
        const popup = $('<div class="custom-popup' + (isError ? ' error' : '') + '">' + message + '</div>');
        $('body').append(popup);
        popup.fadeIn().delay(2000).fadeOut(function() {
            $(this).remove();
        });
    }

    // Load wishlist items when the page loads
    loadWishlist();
});
</script>

<!-- Wallet Modal -->
<div class="modal fade" id="walletModal" tabindex="-1" aria-labelledby="walletModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="walletModalLabel">Wallet Balance</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                <i class="fa fa-wallet fa-3x mb-3" style="color: #ff6a00;"></i>
                <h3>Current Balance</h3>
                <h2 class="text-primary">₹{{ "%.2f"|format(wallet_balance|default(0)) }}</h2>
                <p class="text-muted mt-2">Total refundable deposit amount from all your orders</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<style>
    .modal-content {
        border-radius: 15px;
        border: none;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    .modal-header {
        border-bottom: none;
        padding: 20px 25px;
    }
    
    .modal-body {
        padding: 30px;
    }
    
    .modal-footer {
        border-top: none;
        padding: 20px 25px;
    }
    
    .btn-secondary {
        background-color: #ff6a00;
        border: none;
    }
    
    .btn-secondary:hover {
        background-color: #e55d00;
    }
</style>
</body>


<!-- Mirrored from htmldemo.net/jantrik/jantrik/wishlist.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 05 Jul 2024 04:21:08 GMT -->
</html>
